<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./template.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns="http://www.w3.org/1999/xhtml">

    <ui:define name="content">
        <div style="background: white; border: 1px solid black ; padding: 20px; width: 50%">

            <h:form enctype="multipart/form-data" >
                <p:messages id="mensagem" closable="true" showDetail="true" autoUpdate="true"/>

                <p:dialog modal="true" widgetVar="statusDialog" header="Status" draggable="false" closable="false" resizable="false">
                    <p:graphicImage name="/imgs/ajax-loader.gif"/>
                </p:dialog>

                <h:commandButton value="Gerar relatório Total Pizzas" actionListener="#{relatorioBean.relatorioPizzas()}" onclick="PrimeFaces.monitorDownload(start, stop);" />
                <h:commandButton value="Gerar relatório Preço Pizzas" actionListener="#{relatorioBean.relatorioPizzasPrecos()}" onclick="PrimeFaces.monitorDownload(start, stop);"/>
                <h:commandButton value="Gerar relatório Total Clientes" actionListener="#{relatorioBean.relatorioClientesCadastrados()}" onclick="PrimeFaces.monitorDownload(start, stop);"/>
                <br/>

                <iframe id="pdf" src="#{relatorioBean.pdfselecionado}" width="100%" height="600" scrolling="no"></iframe>


            </h:form>
        </div>

        <script type="text/javascript">
            function start() {
                PF('statusDialog').show();
            }

            function stop() {
                PF('statusDialog').hide();
            }
        </script>
    </ui:define>

</ui:composition>
